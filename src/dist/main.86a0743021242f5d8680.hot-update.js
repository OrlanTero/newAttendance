"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateattendanceelectron"]("main",{

/***/ "./src/components/FingerprintScanner.jsx":
/*!***********************************************!*\
  !*** ./src/components/FingerprintScanner.jsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Dialog/Dialog.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/DialogTitle/DialogTitle.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/DialogContent/DialogContent.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Alert/Alert.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Typography/Typography.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Button/Button.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/CircularProgress/CircularProgress.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/DialogActions/DialogActions.js\");\n/* harmony import */ var _mui_icons_material_Fingerprint__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/icons-material/Fingerprint */ \"./node_modules/@mui/icons-material/Fingerprint.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n\n\nvar _window$electron;\n\n\n\n\n\nvar fingerprintScanner = (_window$electron = window.electron) === null || _window$electron === void 0 ? void 0 : _window$electron.fingerprintScanner;\nvar FingerprintScanner = function FingerprintScanner(_ref) {\n  var open = _ref.open,\n    onClose = _ref.onClose,\n    onCapture = _ref.onCapture;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false),\n    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    isScanning = _useState2[0],\n    setIsScanning = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(\"\"),\n    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0),\n    _useState6 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState5, 2),\n    progress = _useState6[0],\n    setProgress = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false),\n    _useState8 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState7, 2),\n    deviceReady = _useState8[0],\n    setDeviceReady = _useState8[1];\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false),\n    _useState10 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState9, 2),\n    isChecking = _useState10[0],\n    setIsChecking = _useState10[1];\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(\"\"),\n    _useState12 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState11, 2),\n    debugInfo = _useState12[0],\n    setDebugInfo = _useState12[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    if (open) {\n      console.log(\"FingerprintScanner dialog opened\");\n      console.log(\"window.electron available:\", !!window.electron);\n      if (window.electron) {\n        console.log(\"window.electron.fingerprintScanner available:\", !!window.electron.fingerprintScanner);\n        if (window.electron.fingerprintScanner) {\n          console.log(\"Available methods:\", Object.keys(window.electron.fingerprintScanner));\n        }\n      }\n      checkDevice();\n    }\n  }, [open]);\n  var checkDevice = /*#__PURE__*/function () {\n    var _ref2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee() {\n      var errorMsg, _errorMsg, result;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            setError(\"\");\n            setDebugInfo(\"Starting device check...\");\n            setIsChecking(true);\n            console.log(\"Checking for Electron API...\");\n            if (window.electron) {\n              _context.next = 10;\n              break;\n            }\n            errorMsg = \"Electron API not available - running in browser?\";\n            console.error(errorMsg);\n            setDebugInfo(errorMsg);\n            throw new Error(\"Electron API not available\");\n          case 10:\n            console.log(\"Checking for fingerprint scanner API...\");\n            if (window.electron.fingerprintScanner) {\n              _context.next = 16;\n              break;\n            }\n            _errorMsg = \"Fingerprint scanner API not initialized in preload script\";\n            console.error(_errorMsg);\n            setDebugInfo(_errorMsg);\n            throw new Error(\"Fingerprint scanner API not available\");\n          case 16:\n            console.log(\"Checking for fingerprint devices...\");\n            setDebugInfo(\"Checking for fingerprint devices...\");\n            _context.prev = 18;\n            _context.next = 21;\n            return window.electron.fingerprintScanner.checkDevices();\n          case 21:\n            result = _context.sent;\n            console.log(\"Device check result:\", result);\n            setDebugInfo(\"Device check result: \".concat(JSON.stringify(result)));\n            setDeviceReady(true);\n            setDebugInfo(\"Device detected and ready\");\n            _context.next = 33;\n            break;\n          case 28:\n            _context.prev = 28;\n            _context.t0 = _context[\"catch\"](18);\n            console.error(\"Device check specific error:\", _context.t0);\n            setDebugInfo(\"Device check error: \".concat(_context.t0.message));\n            throw _context.t0;\n          case 33:\n            _context.next = 41;\n            break;\n          case 35:\n            _context.prev = 35;\n            _context.t1 = _context[\"catch\"](0);\n            console.error(\"Device check error:\", _context.t1);\n            setError(_context.t1.message || \"Failed to detect fingerprint scanner\");\n            setDebugInfo(\"Error details: \".concat(_context.t1.message));\n            setDeviceReady(false);\n          case 41:\n            _context.prev = 41;\n            setIsChecking(false);\n            return _context.finish(41);\n          case 44:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 35, 41, 44], [18, 28]]);\n    }));\n    return function checkDevice() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    var timer;\n    if (isScanning) {\n      timer = setInterval(function () {\n        setProgress(function (prevProgress) {\n          var newProgress = prevProgress + 10;\n          if (newProgress >= 100) {\n            clearInterval(timer);\n            return 100;\n          }\n          return newProgress;\n        });\n      }, 500);\n    }\n    return function () {\n      return clearInterval(timer);\n    };\n  }, [isScanning]);\n  var handleStartScan = /*#__PURE__*/function () {\n    var _ref3 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee2() {\n      var sample;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            setIsScanning(true);\n            setProgress(10);\n            setError(\"\");\n            setDebugInfo(\"Starting fingerprint capture...\");\n            console.log(\"Starting fingerprint capture...\");\n            _context2.next = 8;\n            return window.electron.fingerprintScanner.startCapture();\n          case 8:\n            setProgress(30);\n            setDebugInfo(\"Capture started, waiting for fingerprint...\");\n            console.log(\"Capturing fingerprint sample...\");\n            setDebugInfo(\"Capturing fingerprint sample...\");\n            _context2.next = 14;\n            return window.electron.fingerprintScanner.captureSample();\n          case 14:\n            sample = _context2.sent;\n            setProgress(70);\n            setDebugInfo(\"Sample captured, processing...\");\n            console.log(\"Fingerprint sample captured:\", sample);\n            if (!sample) {\n              _context2.next = 24;\n              break;\n            }\n            setProgress(100);\n            onCapture(sample);\n            setDebugInfo(\"Fingerprint captured successfully\");\n            _context2.next = 25;\n            break;\n          case 24:\n            throw new Error(\"Failed to capture fingerprint\");\n          case 25:\n            _context2.next = 32;\n            break;\n          case 27:\n            _context2.prev = 27;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error(\"Scan error:\", _context2.t0);\n            setError(_context2.t0.message || \"Failed to scan fingerprint\");\n            setDebugInfo(\"Scan error: \".concat(_context2.t0.message));\n          case 32:\n            _context2.prev = 32;\n            _context2.prev = 33;\n            _context2.next = 36;\n            return window.electron.fingerprintScanner.stopCapture();\n          case 36:\n            console.log(\"Fingerprint capture stopped\");\n            _context2.next = 42;\n            break;\n          case 39:\n            _context2.prev = 39;\n            _context2.t1 = _context2[\"catch\"](33);\n            console.error(\"Error stopping capture:\", _context2.t1);\n          case 42:\n            setIsScanning(false);\n            return _context2.finish(32);\n          case 44:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[0, 27, 32, 44], [33, 39]]);\n    }));\n    return function handleStartScan() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleClose = function handleClose() {\n    setIsScanning(false);\n    setError(\"\");\n    setProgress(0);\n    setDeviceReady(false);\n    setDebugInfo(\"\");\n    onClose();\n  };\n  var handleRetry = function handleRetry() {\n    checkDevice();\n  };\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    open: open,\n    onClose: handleClose,\n    maxWidth: \"sm\",\n    fullWidth: true,\n    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      children: \"Fingerprint Scanner\"\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        sx: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          py: 3\n        },\n        children: [error ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n            severity: \"error\",\n            sx: {\n              width: \"100%\",\n              mb: 2\n            },\n            children: error\n          }), debugInfo && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n            variant: \"caption\",\n            color: \"text.secondary\",\n            sx: {\n              mb: 2\n            },\n            children: debugInfo\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n            onClick: handleRetry,\n            variant: \"outlined\",\n            disabled: isChecking,\n            startIcon: isChecking ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n              size: 20\n            }) : null,\n            children: \"Retry Device Detection\"\n          })]\n        }) : null, isScanning ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n            variant: \"determinate\",\n            value: progress,\n            size: 80,\n            thickness: 4,\n            sx: {\n              mb: 2\n            }\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n            variant: \"body1\",\n            color: \"text.secondary\",\n            children: \"Place your finger on the scanner...\"\n          })]\n        }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n          children: [isChecking ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n            size: 80,\n            sx: {\n              mb: 2\n            }\n          }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_icons_material_Fingerprint__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n            sx: {\n              fontSize: 80,\n              color: deviceReady ? \"primary.main\" : \"action.disabled\",\n              mb: 2\n            }\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n            variant: \"body1\",\n            color: \"text.secondary\",\n            children: isChecking ? \"Checking scanner availability...\" : deviceReady ? \"Scanner ready. Click Start Scan to begin.\" : \"Scanner not detected. Please check connection.\"\n          }), debugInfo && !error && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n            variant: \"caption\",\n            color: \"text.secondary\",\n            sx: {\n              mt: 1\n            },\n            children: debugInfo\n          })]\n        })]\n      })\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n        onClick: handleClose,\n        disabled: isScanning,\n        children: \"Cancel\"\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n        onClick: handleStartScan,\n        variant: \"contained\",\n        disabled: isScanning || !deviceReady || isChecking,\n        startIcon: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_mui_icons_material_Fingerprint__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {}),\n        children: isScanning ? \"Scanning...\" : \"Start Scan\"\n      })]\n    })]\n  });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FingerprintScanner);\n\n//# sourceURL=webpack://attendanceelectron/./src/components/FingerprintScanner.jsx?");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("967a1244d7440bb3914c")
/******/ })();
/******/ 
/******/ }
);